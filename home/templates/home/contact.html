{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<!-- Page Header -->
<section class="relative h-96 flex flex-col justify-center items-center text-center overflow-hidden">
  <!-- Video Background -->
  <video autoplay muted loop playsinline class="absolute top-0 left-0 w-full h-full object-cover">
    <source src="{% static 'home/backg.mp4' %}" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- Overlay to make text readable -->
  <div class="absolute top-0 left-0 w-full h-full bg-black/40"></div>

  <!-- Text Content -->
  <div class="relative z-10 px-6">
    <h1 class="text-4xl md:text-5xl font-bold text-white animate-fade-in">Contáctanos</h1>
    <p class="text-white mt-3 md:mt-5 text-lg animate-fade-in delay-150">Estamos aquí para ayudarte en lo que necesites</p>
  </div>
</section>

<!-- Animations -->
<style>
@keyframes fade-in { from {opacity:0;} to {opacity:1;} }
.animate-fade-in { animation: fade-in 1s ease-out forwards; }
.animate-fade-in.delay-150 { animation-delay: 0.15s; }
</style>

<!-- Contact Info Section -->
<section class="py-16 px-6 md:px-12 bg-white">
  <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
    <!-- Dirección -->
    <div class="bg-gray-50 p-6 rounded-3xl shadow-lg text-center hover:scale-105 transition-transform duration-300 animate-slide-up">
      <div class="flex items-center justify-center w-14 h-14 mx-auto rounded-full bg-blue-100 mb-4">
        <!-- New Location Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
          <ellipse cx="44.996" cy="83.309" rx="30.076" ry="6.689" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(4,219,120); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>
          <path d="M 45 83.293 c -1.31 0 -2.522 -0.692 -3.188 -1.819 l -4.058 -6.864 c -8.333 -14.086 -16.203 -27.392 -18.891 -32.788 c -1.954 -4.008 -2.938 -8.287 -2.938 -12.747 C 15.925 13.043 28.968 0 45 0 c 16.032 0 29.075 13.043 29.075 29.075 c 0 4.456 -0.983 8.735 -2.922 12.717 c -0.023 0.048 -0.049 0.096 -0.074 0.143 c -2.74 5.468 -10.56 18.688 -18.836 32.678 l -4.055 6.861 C 47.522 82.601 46.31 83.293 45 83.293 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(4,136,219); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
          <path d="M 45 42.274 c -7.843 0 -14.223 -6.38 -14.223 -14.223 S 37.157 13.828 45 13.828 c 7.842 0 14.223 6.381 14.223 14.223 S 52.842 42.274 45 42.274 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
        </g>
        </svg>
      </div>
      <h4 class="text-xl font-bold text-gray-800">Dirección</h4>
      <p class="text-gray-600 mt-2">C.22 Sabana Perdida, Santo Domingo Norte, RD</p>
    </div>

    <!-- Correo -->
    <div class="bg-gray-50 p-6 rounded-3xl shadow-lg text-center hover:scale-105 transition-transform duration-300 animate-slide-up delay-100">
      <div class="flex items-center justify-center w-14 h-14 mx-auto rounded-full bg-blue-100 mb-4">
        <!-- New Email Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
          <circle cx="45" cy="45" r="45" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(35,91,216); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
          <path d="M 64.567 26.495 H 25.433 c -3.142 0 -5.689 2.547 -5.689 5.689 v 25.631 c 0 3.142 2.547 5.689 5.689 5.689 h 39.135 c 3.142 0 5.689 -2.547 5.689 -5.689 V 32.184 C 70.256 29.043 67.709 26.495 64.567 26.495 z M 63.343 57.47 c -0.295 0.306 -0.688 0.46 -1.081 0.46 c -0.374 0 -0.749 -0.14 -1.04 -0.419 l -9.419 -9.065 l -1.357 1.489 c -1.394 1.528 -3.378 2.404 -5.446 2.404 c -2.068 0 -4.053 -0.876 -5.446 -2.404 l -1.337 -1.467 l -9.022 9.023 c -0.292 0.293 -0.677 0.439 -1.061 0.439 s -0.768 -0.146 -1.061 -0.439 c -0.586 -0.586 -0.586 -1.535 0 -2.121 l 9.12 -9.121 L 26.63 35.754 c -0.558 -0.612 -0.514 -1.561 0.098 -2.119 c 0.613 -0.558 1.562 -0.514 2.119 0.098 l 12.924 14.18 c 0.838 0.92 1.985 1.426 3.229 1.426 s 2.392 -0.506 3.229 -1.426 l 2.422 -2.657 l 10.502 -11.522 c 0.559 -0.612 1.507 -0.655 2.119 -0.098 c 0.612 0.558 0.656 1.506 0.098 2.119 l -9.546 10.474 l 9.477 9.121 C 63.898 55.924 63.917 56.873 63.343 57.47 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
        </g>
        </svg>
      </div>
      <h4 class="text-xl font-bold text-gray-800">Correo Electrónico</h4>
      <p class="text-gray-600 mt-2">carlosjjavier05@gmail.com</p>
    </div>

    <!-- Teléfono -->
    <div class="bg-gray-50 p-6 rounded-3xl shadow-lg text-center hover:scale-105 transition-transform duration-300 animate-slide-up delay-200">
      <div class="flex items-center justify-center w-14 h-14 mx-auto rounded-full bg-blue-100 mb-4">
        <!-- New Phone Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
          <circle cx="45" cy="45" r="45" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(33,150,243); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
          <path d="M 57.332 70.088 c -1.955 0.001 -4.074 -0.313 -6.32 -0.946 c -6.303 -1.777 -12.904 -5.885 -18.586 -11.568 c -5.682 -5.682 -9.79 -12.283 -11.568 -18.586 c -1.84 -6.528 -0.978 -11.999 2.429 -15.406 c 0.124 -0.124 0.25 -0.244 0.38 -0.36 c 0.033 -0.046 0.07 -0.09 0.112 -0.131 l 1.819 -1.819 c 0.877 -0.877 2.042 -1.36 3.282 -1.36 c 1.24 0 2.405 0.483 3.282 1.36 l 6.976 6.977 c 1.809 1.809 1.809 4.754 0 6.563 L 36.149 37.8 c -0.753 0.753 -0.753 1.979 0 2.732 L 49.468 53.85 c 0.729 0.729 2.002 0.729 2.732 0 l 2.988 -2.988 c 1.809 -1.808 4.755 -1.81 6.564 -0.001 l 6.977 6.977 c 0.876 0.876 1.359 2.042 1.359 3.281 s -0.483 2.405 -1.359 3.281 l -1.819 1.819 c -0.042 0.042 -0.087 0.08 -0.133 0.114 c -0.117 0.13 -0.236 0.256 -0.36 0.379 C 64.182 68.948 61.058 70.088 57.332 70.088 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
        </g>
        </svg>
      </div>
      <h4 class="text-xl font-bold text-gray-800">Teléfono</h4>
      <p class="text-gray-600 mt-2">+1-849-859-1772</p>
    </div>
  </div>
</section>

<!-- Contact Form Section -->
<section class="py-16 px-6 md:px-12 bg-gray-50">
  <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-10 items-center">


    <!-- Image Column -->
    <div class="flex justify-center md:justify-end animate-slide-up delay-100">
      <img src="{% static 'home/call.jpg' %}" alt="Llamada" class="rounded-xl shadow-lg w-full max-w-md object-cover">
    </div>

    <!-- Contact Form -->
    <div class="animate-slide-up">
      <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center md:text-left">Envíanos un Mensaje</h2>
      <form method="POST" action="{% url 'home:contact' %}" class="space-y-6 bg-white p-8 rounded-xl shadow-lg animate-fade-in">
          {% csrf_token %}

          <!-- This section will display any general form errors -->
          {% if form.non_field_errors %}
              <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-4" role="alert">
                  <p class="font-bold">¡Lo sentimos!</p>
                  <p class="text-sm">Por favor, corrija los siguientes errores:</p>
                  <ul>
                      {% for error in form.non_field_errors %}
                          <li>{{ error }}</li>
                      {% endfor %}
                  </ul>
              </div>
          {% endif %}

          {{ form|crispy }}

          <button type="submit"
              class="w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 focus:outline-none transition">
              Enviar
          </button>
      </form>
    </div>

  </div>
</section>

<!-- Google Maps Section -->
<section id="location" class="mt-16 py-12">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 animate-slide-up">Encuéntranos</h2>
    <div class="w-full h-96 rounded-xl shadow-lg overflow-hidden animate-fade-in">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d3782.544843773963!2d-69.85718152480757!3d18.54945948254973!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMTjCsDMyJzU4LjEiTiA2OcKwNTEnMTYuNiJX!5e0!3m2!1sen!2sdo!4v1756298998125!5m2!1sen!2sdo"
        width="100%"
        height="100%"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>

    <a href="https://www.google.com/maps/dir/?api=1&destination=C.22+Sabana+Perdida,+Santo+Domingo+Norte,+RD"
       target="_blank"
       class="mt-6 inline-block px-6 py-3 bg-blue-600 text-white rounded-xl shadow-md hover:bg-blue-700 transition animate-slide-up">
       Cómo llegar
    </a>
  </div>
</section>

<!-- Animations with Tailwind -->
<style>
@keyframes fade-in { from {opacity:0;} to {opacity:1;} }
@keyframes slide-up { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }

.animate-fade-in { animation: fade-in 0.8s ease-out forwards; }
.animate-slide-up { animation: slide-up 0.8s ease-out forwards; }
.animate-slide-up.delay-100 { animation-delay: 0.1s; }
.animate-slide-up.delay-150 { animation-delay: 0.15s; }
.animate-slide-up.delay-200 { animation-delay: 0.2s; }
</style>
{% endblock %}